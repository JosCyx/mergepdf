<div class="pdf-merger">
  <h1>{{title()}}</h1>
  
  <div class="file-inputs">
    <!-- SelecciÃ³n mÃºltiple -->
    <div class="file-input-group">
      <label for="multipleFiles">Seleccionar archivos PDF:</label>
      <input 
        id="multipleFiles" 
        type="file" 
        accept=".pdf" 
        multiple
        (change)="onFilesSelected($event)" 
        [disabled]="isProcessing()"
      />
      <small class="help-text">MantÃ©n presionado Ctrl (o Cmd en Mac) para seleccionar mÃºltiples archivos</small>
    </div>
  </div>

  <!-- Lista de PDFs seleccionados -->
  @if (selectedPdfs().length > 0) {
    <div class="selected-pdfs">
      <h3>PDFs seleccionados ({{selectedPdfs().length}}):</h3>
      <p class="order-info">ðŸ’¡ Usa las flechas â†‘â†“ para cambiar el orden de los documentos</p>
      <div class="pdf-list">
        @for (pdf of selectedPdfs(); track pdf.name; let i = $index) {
          <div class="pdf-item">
            <div class="pdf-info">
              <span class="pdf-name">{{i + 1}}. {{pdf.name}}</span>
              <span class="pdf-pages">({{pdf.pageCount}} pÃ¡gina{{pdf.pageCount !== 1 ? 's' : ''}})</span>
            </div>
            <div class="pdf-controls">
              <button 
                class="order-btn up-btn" 
                (click)="movePdfUp(i)" 
                [disabled]="i === 0"
                title="Subir"
              >
                â†‘
              </button>
              <button 
                class="order-btn down-btn" 
                (click)="movePdfDown(i)" 
                [disabled]="i === selectedPdfs().length - 1"
                title="Bajar"
              >
                â†“
              </button>
              <button class="remove-btn" (click)="removePdf(i)" title="Remover PDF">Ã—</button>
            </div>
          </div>
        }
      </div>
      <div class="total-info">
        <strong>Total: {{getTotalPages()}} pÃ¡ginas en {{selectedPdfs().length}} archivo{{selectedPdfs().length !== 1 ? 's' : ''}}</strong>
      </div>
    </div>
  }

  <!-- Botones de acciÃ³n -->
  <div class="action-buttons">
    <button 
      class="merge-button" 
      (click)="mergePdfs()" 
      [disabled]="selectedPdfs().length < 2 || isProcessing()"
    >
      {{isProcessing() ? 'Procesando...' : 
        (selectedPdfs().length < 2 ? 'Selecciona al menos 2 PDFs' : 
        'Combinar ' + selectedPdfs().length + ' PDFs (' + getTotalPages() + ' pÃ¡ginas)')}}
    </button>

    <button 
      class="clear-button" 
      (click)="clearAllPdfs()" 
      [disabled]="selectedPdfs().length === 0 || isProcessing()"
    >
      @if (selectedPdfs().length > 0) {
        Limpiar todo
      }
    </button>
  </div>
</div>
